# Autor: Gustavo Benedito dos Reis Costa 
# Data: 19 de agosto de 202
# Email: gusbemacbe at gmail dot com

ErrorDocument 404 /404.html

RewriteEngine On
RewriteCond %{HTTPS} Off
RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}

# ğŸ‡§ğŸ‡· Se um diretÃ³rio existente for solicitado, vai para ele como ele Ã©
# ğŸ‡¬ğŸ‡§ If an existing directory is requested, go to it as it is
# ğŸ‡®ğŸ‡¹ Se Ã¨ richiesta una directory esistente, andateci cosÃ¬ com'Ã¨
# ğŸ‡¬ğŸ‡§ Si un rÃ©pertoire existant est demandÃ©, accÃ©dez-y tel quel
RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -f [OR]
RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -d
RewriteRule ^ - [L]

# ğŸ‡§ğŸ‡· Se o recurso solicitado nÃ£o existir, use index.html
# ğŸ‡¬ğŸ‡§ If the requested resource does not exist, use index.html
# ğŸ‡®ğŸ‡¹ Se la risorsa richiesta non esiste, utilizzare index.html
# ğŸ‡«ğŸ‡· Si la ressource demandÃ©e n'existe pas, utilisez index.html
RewriteRule ^ /index.html

<IfModule mod_rewrite.c>
    Options +FollowSymlinks
    RewriteEngine On
    
    # ğŸ‡§ğŸ‡· NÃ£o reescrever ficheiros ou diretÃ³rios
    # ğŸ‡¬ğŸ‡§ Do not rewrite files or directories
    # ğŸ‡®ğŸ‡¹ Non riscrivere file o directory
    # ğŸ‡«ğŸ‡· Ne rÃ©Ã©crivez pas les fichiers ou rÃ©pertoires
    # RewriteCond %{REQUEST_FILENAME} -f [OR]
    # RewriteCond %{REQUEST_FILENAME} -d
    # RewriteRule ^ - [L]

    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-l
    RewriteRule ^(.*)$ index.php?path=$1 [QSA,L]

    # ğŸ‡§ğŸ‡· Reescrever todo o resto em index.html para permitir ligaÃ§Ãµes de estado HTML5
    # ğŸ‡¬ğŸ‡§ Rewrite everything else in index.html to allow HTML5 status links
    # ğŸ‡®ğŸ‡¹ Riscrivi tutto il resto in index.html per consentire i link di stato HTML5
    # ğŸ‡«ğŸ‡· RÃ©Ã©crivez tout le reste dans index.html pour autoriser les liens d'Ã©tat HTML5
    RewriteRule ^ index.html [L]
</IfModule>

# ğŸ‡§ğŸ‡· TORNAR COMPATÃVEL COM AS LIGAÃ‡Ã•ES SIMBÃ“LICAS
# ğŸ‡¬ğŸ‡§ MAKE IT COMPATIBLE WITH SYMBOLIC LINKS
# ğŸ‡®ğŸ‡¹ RENDILO COMPATIBILE CON COLLEGAMENTI SIMBOLICHE
# ğŸ‡«ğŸ‡· RENDRE-LE COMPATIBLE AVEC LES CONNEXIONS SYMBOLIQUES

Options +FollowSymLinks

# ğŸ‡§ğŸ‡· COMEÃ‡O EXIGIDO PARA WEBFONTS E IMAGENS
# ğŸ‡¬ğŸ‡§ START REQUIRED FOR WEBFONTS AND IMAGES
# ğŸ‡®ğŸ‡¹ INIZIO NECESSARIO PER WEBFONTS E IMMAGINI
# ğŸ‡«ğŸ‡· DEMARRAGE REQUIS POUR LES WEBFONTS ET LES IMAGES

AddType application/vnd.ms-fontobject    eot
AddType application/x-font-woff          woff
AddType font/eot                        .eot
AddType font/otf                        .otf
AddType font/opentype                    otf
AddType font/truetype                    ttf
AddType font/ttf                        .ttf
AddType font/woff                       .woff

AddType image/gif                       .gif .GIF
AddType image/jpeg                      .jpeg .jpg .jpe .JPG
AddType image/png                       .png .PNG
AddType image/svg+xml                    svg
AddType image/svg+xml                    svgz
AddType image/tiff                      .tiff .tif

<IfModule mod_mime.c>
    AddType application/manifest+json   webmanifest
    AddType image/svg+xml               svg
</IfModule>

<FilesMatch ".(css|eot|flv|gif|ico|jpeg|jpg|js|json|otf|pdf|png|scss|svg|ttf|webp|woff)$">
  <IfModule mod_headers.c>
    Header set Access-Control-Allow-Origin â€œ*â€
    Header always set Cache-Control "no-cache, public"
    Header always set X-Content-Type-Options nosniff
  </IfModule>
</FilesMatch>

<FilesMatch ".(css|eot|flv|gif|ico|jpeg|jpg|js|json|otf|pdf|png|scss|svg|ttf|webp|woff)$" >
  SetOutputFilter DEFLATE
</FilesMatch>

<FilesMatch ".(css|eot|flv|gif|ico|jpeg|jpg|js|json|otf|pdf|png|scss|svg|ttf|webp|woff)$">
    Header set Cache-Control "max-age=2628000, public"
</FilesMatch>

<IfModule mod_headers.c>
    Header always set Cache-Control "no-cache, public"
    Header always set X-Content-Type-Options nosniff
    Header unset Expires
    Header unset Host
    Header unset P3P
    Header unset Pragma
    Header unset Public-Key-Pins
    Header unset Public-Key-Pins-Report-Only
    Header unset Via
    Header unset X-AspNet-Version
    Header unset X-AspNetMvc-version
    Header unset X-Frame-Options
    Header unset X-Powered-By
    Header unset X-Runtime
    Header unset X-Version
</IfModule>

<IfModule mod_filter.c>
  # Comprimir texto, CSS, HTML, JavaScript, PHP, XML:
  # Compress text, CSS, HTML, JavaScript, PHP, XML:
  AddOutputFilterByType DEFLATE application/javascript
  AddOutputFilterByType DEFLATE application/php
  AddOutputFilterByType DEFLATE application/rss+xml
  AddOutputFilterByType DEFLATE application/x-javascript
  AddOutputFilterByType DEFLATE application/xhtml+xml
  AddOutputFilterByType DEFLATE application/xml
  AddOutputFilterByType DEFLATE text/css
  AddOutputFilterByType DEFLATE text/html
  AddOutputFilterByType DEFLATE text/plain
  AddOutputFilterByType DEFLATE text/php
  AddOutputFilterByType DEFLATE text/xml

  # Ou, comprimir certos tipos de ficheiros por extensÃ£o:
  # Or, compress certain file types by extension:
  <files *.html>
    SetOutputFilter DEFLATE
  </files>
  
  <files *.php>
    SetOutputFilter DEFLATE
  </files>
</IfModule>

# ğŸ‡§ğŸ‡· FIM EXIGIDO PARA WEBFONTS
# ğŸ‡¬ğŸ‡§ END REQUIRED FOR WEBFONTS
# ğŸ‡®ğŸ‡¹ FINE RICHIESTA PER WEBFONTS
# ğŸ‡«ğŸ‡· FIN REQUISE POUR LES WEBFONTS
